from flask import Flask, render_template

app = Flask(__name__)  # Web sunucumuzu kendi bs çalıştıracağımızdan dolayı bir obj. oluşturduk.

@app.route("/")  # ben bir adrese gitmek istiyorum. içine de adresi yazıyoruz. request roote olarak yazdık.
def index(): # request yazdık.
    return " Ana sayfa"  # böyle bir yazı dönsün yani bu response olacak. Tekrar localhost çalıştırınca işlem sonucunu görebiliriz.

@app.route("/about")   #bu işlem sonucu localhost:5000/about yazınca return işlemi sonucunu göreceğiz.
def about():
    return "Hakkımda"

@app.route("/about/kisi") 
def kisi():
    return " This page is about person."

if __name__ =="__main__" : # bir web sunucusunu çalıştırıyoruz.bir tane localhost çalıştırıyoruz.
    app.run(debug=True) # içine bir tane parametre verdik. hatalarımızı web sitemizde görelim. çünkü geliştirme aşamasındayız.
# burada if döngüsü ile biz python dosyasını başka bir dosyadan aktarmak istersek name değeri main olmuyor.
# name  main olması ile bu python dosyası terminalden mi çalıştırılmış yoksa bir modül olarakı mı
# çalıştırılmış onu anlıyoruz. Modül olarak aktarırsak name main eşit olmaması gerekir.
# web sunucumuzu bu kodlar ile hazırladıktan sonra YBBLOG sağ tıklayıp yeni bir int.terminal açtık.
# açılan alttaki terminale python blog_mine.py yazdık çalıştırdık.
# açılan local host crtl+c ile kapatabiliriz.
# browser dan localhost:5000 ile baktık. ancak hata verdiğini gördük.

# CRTL+C ile kapatıyoruz ve tekrar refresh yaparsak ulaşılamıyor.
# Daha sonra Xampp indiriyoruz. Ancak control paneli otomatik açtırmadık. 
# Burada Xampp control paneli açarak apache ve mysql start yaparak sunucularını açtık.
# Çalışırken bunların her zaman açık olması lazım.
# Daha sonra aynı yerden mysql admin açıyoruz. Bu açılan ekrandan herhangi bir sql sorgusunu çalıştırabiliyoruz.add()
# Tekrar local host açtık. Burada her bir request için bir response alacağız. 
# Yani her bir url adresi talebine karşın flask ta bir func bulunur. Bunun için hazır bir decorator mantığı kullanmamız gerekir.

-------------------------
# Yukarıda önce string template döndürmüştük şimdi ise bir html yani jinja template döndürmek istiyorum.
# bunu render ederek göndermek zorundayız. Bu durumda içine pyhton kodu yazabiliyorum.
# render_template func indirdik.

# .html django olarak açma sıkıntısını sağ alttan django html açıp sonra buradan html seçip kaldırıyoruz.
# template içine bir tane index.html oluşturduk. Bunun içinde oynamalar yaparak localhosttaki değişiklikleri görebiliriz.
# TERMİNAL de CTRL+C ile localhost kapatırsak çalıştırmak için python blog_mine.py yazacağız terminale.


# şimdi ise bu template bir python yapısı nasıl gönderilir onu incelemek için rakam= 10 tamamladık ve render içine , number=rakam olarak tanımladık.
#<h5>Rakam</h5>
 <p>{{ number }}</p>  bu şekilde bir tanımlama yaptık ve içine göndereceğimiz değişkeni yazdık. Ayrıca bir python verisi gönderirken bu şekilde iki süslü parantez içinde tanımlıyoruz.

from flask import Flask, render_template

app = Flask(__name__)  

@app.route("/")  
def index(): 
    rakam = 10
    rakam2 = 20
    return render_template("index.html", number=rakam, number2=rakam2)  #default olarak templates klasörüne gitti.

if __name__ =="__main__" : 
    app.run(debug=True)

index.html
<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Anasayfa</title>
</head>

<body>
    <h3>Anasayfa</h3>
    <p>Burası anasayfadır.</p>

    <h5>Rakamlar</h5>
    <p>{{ number }}</p>
    <p>{{ number2 }}</p>

</body>

</html>


# Bu sefer dict bir yapı gönderdik.

from flask import Flask, render_template

app = Flask(__name__)  

@app.route("/")  
def index(): 
    article = dict()
    article["title"] = "Deneme"
    article["body"]  = "Deneme123"
    article["author"] = "Stephen"
    
    return render_template("index.html", article = article)  #default olarak templates klasörüne gitti.

if __name__ =="__main__" : 
    app.run(debug=True)


<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Anasayfa</title>
</head>

<body>
    <h3>Anasayfa</h3>
    <p>Burası anasayfadır.</p>

    <h5>Articles</h5>
    <p>{{ article["title"] }}</p>    # article.title
    <p>{{ article["body"] }}</p>     # article.body
    <p>{{ article["author"] }}</p>   # article.author

</body>

</html>

# class inheritance olduğu gibi templates inheritance manığıda aynıdır.

önce templates klasörü içine yeni bir layout.html oluşturduk. bunu index içine inheritance olarak göndermek için önce index içini temizledik. 

index.html içine {% extends "layout.html" %} # anahtar kelimeler kullanmak istiyorsak bu şekilde kullanıyoruz yazdık.

sonra blog_mine.py içine 
@app.route("/")  
def index():   
    return render_template("index.html")  yazdık.

# Block yapıları:

Layout içine tanımladık.

<body>

    <h3>Layout</h3>

    {% block World %}
    <p>Burası bir layouttur...</p>
    {% endblock %}

</body>

mesela bu block içindeki metni değiştirmek istiyorsak index içine;

{% block World %}
<p>Burası aslında indextir. Layouttan gelen inheritance bu şekilde kullandık.</p>
{% endblock %}   yazıyoruz.


şimdide layout içinde title Layout olarak yazmıştık. Bunu block olarak yazıyoruz ve benden türüyen templates bunu değiştirebilsinler.

 <title>
        {% block title %}
        Layout
        {% endblock %}
 </title>

index.html de bunu overwrite yapmak istediğimizi belirtmediğimizden dolayı localhost ta bu ifadeyi değiştirmeyecek.

Bunun için 

{% block title %} Ana sayfa {% endblock %}  arasına Ana sayfa yazıp çalıştırınca artık layout inheritance title yerine buraya yazdığım title kullanılacak.




CSS

<link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/4.0.0-alpha.6/css/bootstrap.min.css" integrity="sha384-rwoIResjU2yc3z8GV/NPeZWAv56rSmLldC3R/AZzGRnGxQQKnKkoFVhFQhNUwEyJ" crossorigin="anonymous">


JS

<script src="https://code.jquery.com/jquery-3.1.1.slim.min.js" integrity="sha384-A7FZj7v+d/sdmMqp/nOQwliLvUsJfDHW+k9Omg/a/EheAdgtzNs3hpfag6Ed950n" crossorigin="anonymous"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/tether/1.4.0/js/tether.min.js" integrity="sha384-DztdAPBWPRXSA/3eYEEUWrWCy7G5KFbe8fFjk5JAIxUYHKkDx6Qin1DkWx51bBrb" crossorigin="anonymous"></script>
<script src="https://maxcdn.bootstrapcdn.com/bootstrap/4.0.0-alpha.6/js/bootstrap.min.js" integrity="sha384-vBWWzlZJ8ea9aCX4pEW3rVHjgjt7zpkNpZk+02D9phzyeVkE+jo0ieGizqPLForn" crossorigin="anonymous"></script>
<script src="https://cdn.ckeditor.com/4.8.0/standard/ckeditor.js"></script>
<script src="https://cdn.rawgit.com/google/code-prettify/master/loader/run_prettify.js"></script>

# Bootstrap Kullanımı.

önce index.html oluşturduk. Sonra bunun içinde kullanmak için bir navbar.html oluşturduk.templates altında kullanacağım html dosyaları için bir tane includes klasörü oluşturdum.

boostrap 4 cdn neden boostrap css link alıp kopyaladık ve layout içinde meta altına kopyaladık. Aşağıdaki code ları aldık. sonra body içine de alttaki diğer 3 kodu kopyalayıp yapıştırdık.

CSS

<link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/4.0.0-alpha.6/css/bootstrap.min.css" integrity="sha384-rwoIResjU2yc3z8GV/NPeZWAv56rSmLldC3R/AZzGRnGxQQKnKkoFVhFQhNUwEyJ" crossorigin="anonymous">


JS

<script src="https://code.jquery.com/jquery-3.1.1.slim.min.js" integrity="sha384-A7FZj7v+d/sdmMqp/nOQwliLvUsJfDHW+k9Omg/a/EheAdgtzNs3hpfag6Ed950n" crossorigin="anonymous"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/tether/1.4.0/js/tether.min.js" integrity="sha384-DztdAPBWPRXSA/3eYEEUWrWCy7G5KFbe8fFjk5JAIxUYHKkDx6Qin1DkWx51bBrb" crossorigin="anonymous"></script>
<script src="https://maxcdn.bootstrapcdn.com/bootstrap/4.0.0-alpha.6/js/bootstrap.min.js" integrity="sha384-vBWWzlZJ8ea9aCX4pEW3rVHjgjt7zpkNpZk+02D9phzyeVkE+jo0ieGizqPLForn" crossorigin="anonymous"></script>

daha sonra  google browsera bootstrap static navbar yazdık ancak ilk sayfayı beğenmedik sonrasındakini aldık. daha sonra siteye sağ tıklayıp sayfa kaynağına gittik ve buradaki nav class body altında bulunan etiketleri aldık.

view-source:https://getbootstrap.com/docs/4.0/examples/navbar-fixed/

sonra buradaki kodun kaynağınından navbar aldık.

<nav class="navbar navbar-expand-md navbar-dark fixed-top bg-dark">
      <a class="navbar-brand" href="#">Fixed navbar</a>
      <button class="navbar-toggler" type="button" data-toggle="collapse" data-target="#navbarCollapse" aria-controls="navbarCollapse" aria-expanded="false" aria-label="Toggle navigation">
        <span class="navbar-toggler-icon"></span>
      </button>
      <div class="collapse navbar-collapse" id="navbarCollapse">
        <ul class="navbar-nav mr-auto">
          <li class="nav-item active">
            <a class="nav-link" href="#">Home <span class="sr-only">(current)</span></a>
          </li>
          <li class="nav-item">
            <a class="nav-link" href="#">Link</a>
          </li>
          <li class="nav-item">
            <a class="nav-link disabled" href="#">Disabled</a>
          </li>
        </ul>
        <form class="form-inline mt-2 mt-md-0">
          <input class="form-control mr-sm-2" type="text" placeholder="Search" aria-label="Search">
          <button class="btn btn-outline-success my-2 my-sm-0" type="submit">Search</button>
        </form>
      </div>
    </nav>

ve navbar.html içine attık.

layout bu şekilde oluştu.

<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/4.0.0/css/bootstrap.min.css" integrity="sha384-Gn5384xqQ1aoWXA+058RXPxPg6fy4IWvTNh0E263XmFcJlSAwiGgFAW/dAiS6JXm" crossorigin="anonymous">


    <title>YB Blog</title>
</head>

<body>

    {% include "includes/navbar.html" %}
    <br><br><br>   # yazıyı öne çekmek için kullandık.
    <div class="container">   # boostrapta çok kullanılır container yapısı. yazılarımız daha iyi görünsün diye. 
        
	{% block body %} 

	{% endblock %}

    </div>

    <script src="https://code.jquery.com/jquery-3.1.1.slim.min.js" integrity="sha384-A7FZj7v+d/sdmMqp/nOQwliLvUsJfDHW+k9Omg/a/EheAdgtzNs3hpfag6Ed950n" crossorigin="anonymous"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/tether/1.4.0/js/tether.min.js" integrity="sha384-DztdAPBWPRXSA/3eYEEUWrWCy7G5KFbe8fFjk5JAIxUYHKkDx6Qin1DkWx51bBrb" crossorigin="anonymous"></script>
    <script src="https://maxcdn.bootstrapcdn.com/bootstrap/4.0.0-alpha.6/js/bootstrap.min.js" integrity="sha384-vBWWzlZJ8ea9aCX4pEW3rVHjgjt7zpkNpZk+02D9phzyeVkE+jo0ieGizqPLForn" crossorigin="anonymous"></script>

</body>

</html>

index.html bu şekilde: 

{% extends "layout.html" %}  # layout inheritance yaptı. Ancak block oluşturup içine yazdığımı kullandı.

{% block body %}
<h3>Ana Sayfa</h3>
{% endblock %}


navbar içindeki search bir form durumunda ve bunu kaldırmak istiyorum. sonra bunu farklı şekilde oluşturacağım.

<form class="form-inline mt-2 mt-md-0">
            <input class="form-control mr-sm-2" type="text" placeholder="Search" aria-label="Search">
            <button class="btn btn-outline-success my-2 my-sm-0" type="submit">Search</button>
</form>

fixed navbar ismini YB Blog olarak değiştirmek istiyorum.

<a class="navbar-brand" href="#">YB Blog</a>

YB Blog üzerine tıklayınca başka bir sayfaya gidiyor ancak ben route kendine dönmesini istiyorum. Bundan dolayı href="/"> yaptık. Yani bu durumda buna tıklayınca tekrar kök dizine gelmiş olacağım.


Buradaki div bizim elementlerin çoğunu barındırıyor.

<div class="collapse navbar-collapse" id="navbarCollapse">
        <ul class="navbar-nav mr-auto">  # sola yaslıyor. ml-auto yaparsam sağa yaslar.
            <li class="nav-item active">
                <a class="nav-link" href="#">Home <span class="sr-only">(current)</span></a>
            </li>
            <li class="nav-item">
                <a class="nav-link" href="#">Link</a>
            </li>
            <li class="nav-item">
                <a class="nav-link disabled" href="#">Disabled</a>
            </li>
        </ul>
    </div>

yukarıdaki link ve disabled elementlerini silmek istiyorum.

home daki <span class="sr-only">(current)</span></a> etiketi sildik ve home yerine hakkımızda yazdık ve basıldığında /about diye bir url ye gitmesini istiyorum. 
son hali bu oldu.

<a class="nav-link" href="/about">Hakkımızda</a> 

ilave olarak yeni bir element ekledik.

<li class="nav-item active">
                <a class="nav-link" href="/articles">Makaleler</a>


daha sonra navbar.html ye ilave yaptık.

<ul class="navbar-nav mlauto">   # ml sağa yasladı.
            <li class="nav-item active">
                <a class="nav-link" href="/register">Kayıt Olun</a>
            </li>
            <li class="nav-item active">
                <a class="nav-link" href="/login">Giriş</a>
            </li>

Bu bölümde ise about.html oluşturduk. Bunun için blog_mine.py içine bir tane 

@app.route("/about")
def about():
    return render_template("about.html") tanımladık.

daha sonra about içine bunları yaptık.

{% extends "layout.html" %} 

{% block body %}
<h3>Hakkımda</h3> # diye bir başlık ekledik.
<hr> # etiketi ile düz bir çizgi çektik. 
{% endblock %}

daha sonra about içinde Hakkımda altına iki hr arasına metin ekledim.

{% extends "layout.html" %} {% block body %}
<h3>Hakkımda</h3>
<hr> Herkese merhaba.Ben Stephen King. Odtü Bilgisayar Mühendisliği bölümü mezunuyum.Yazılım Bilimi kanalını programlama ve yazılım öğrenmek isteyen gençlere ve yazılımcılara faydalı olmak ,aynı zamanda Türkiyede yazılımın ve eğitimin yükselmesi amacıyla
10 Nisan 2015 tarihinde kurdum.Şimdiye kadar elimden geldiğince video yüklemeye çalıştım.Bu kanaldaki amacım Yazılım Bilimini genel bir online akademiye dönüştürüp Türkiye’nin dört bir yanına ücretsiz bir şekilde eğitim verebilmek.Ülkemizin gençleri olarak
hep beraber yazılımı ve bilimi herkese aşılamaya çalışalım.Var mısınız? Programlama ve Yazılım Öğrenmeye yeni mi başlıyorsunuz ? İşte yol haritanız. 1.Web geliştirmek ve bu alanda uzmanlaşmak istiyorsanız Temel olarak HTML,CSS,Javascript öğrenmeye çalışın.Daha
sonra server-side(sunucu tarafı) diller ile kendinizi geliştirin.(Php,Python Django ,Asp,Ruby On Rails vs.) 2.Mobil uygulama mı geliştirmek istiyorsunuz ? Eğer çok yeniyseniz, ilk başta Python gibi algoritma ve programlama mantığını anlayacağınız bir
dille başlayın. Daha sonra hangi ortamda mobil geliştirme yapacağınıza karar verin.IOS geliştirmek istiyorsanız Swift,Android Programlamak istiyorsanız Java öğrenin.Daha sonra Android ve Java geliştirmeye başlarsınız. 3.Masaüstü uygulamaları(Arayüz Uygulamaları)
mı geliştirmek istiyorsunuz.Bunun için önünüzde bir çok seçenek var.Python,C#,Java gibi dillerle çok iyi arayüzler çıkarabilirsiniz. 4.Machine Learning ve Yapay zeka ilginizi çekiyorsa yazımı kolay olan ve çok verimli bir dil olan Python size yararlı
olacaktır.
<hr> {% endblock %}


{% extends "layout.html" %} {% block body %}
<h3>Ana Sayfa</h3>
{% endblock %}   içindeki h3 kaldırarak bunun yerine bootstrapten güzel bir div yazmak istiyorum.

daha sonra index.html içinde aşağıdaki işlemleri yaptık.

{% extends "layout.html" %} {% block body %}
<div class="jumbotron text-center">
    <h3>Yazılım Dünyası Bloğuna Hoşgeldiniz.</h3>
    <p>Bu blogta program geliştiriciler olarak blog yazılarınızı paylaşabilirsiniz ve bu konuda kendini geliştirmeye çalışan insanlara yardımcı olabilirsiniz.</p>
</div>
{% endblock %}


@app.route("/")  
def index():   
    return render_template("index.html", answer="evet")  içine bir python kodu gönderdik ve evet atadık.

daha sonra görüldüğü gibi bir if yapısı oluşturduk. Cevabıma göre bunu dönecek.

{% extends "layout.html" %} {% block body %}
<div class="jumbotron text-center">
    <h3>Yazılım Dünyası Bloğuna Hoşgeldiniz.</h3>
    <p>Bu blogta program geliştiriciler olarak blog yazılarınızı paylaşabilirsiniz ve bu konuda kendini geliştirmeye çalışan insanlara yardımcı olabilirsiniz.</p>
</div>
{% if answer=="evet" %}
<p>Cevabımız evetmiş...</p>
{% else %}
<p>Cevabımız evet değilmiş...</p>
{% endif %}

{% endblock %}

daha sonra aşağıdaki gibi değiştirdik.

@app.route("/")  
def index():   
    return render_template("index.html", islem=1)

index.html içini de aşağıdaki gibi değiştirdik.

{% if islem==1 %}
<p>1.islem</p>
{% elif islem==2 %}
<p>2.islem</p>
{% else %}
<p>Geçersiz bir işlem...</p>
{% endif %}






<script src="https://cdn.ckeditor.com/4.8.0/standard/ckeditor.js"></script>

<script src="https://cdn.rawgit.com/google/code-prettify/master/loader/run_prettify.js"></script>





