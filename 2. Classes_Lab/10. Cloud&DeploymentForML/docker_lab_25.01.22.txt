1  sudo apt-get update -y
2  python3 --version
3  pip3 --version
4  sudo apt install python3-pip

app.py

import streamlit as st
import pandas as pd
import joblib
st.title("USEDCAR PRICE PREDICTION PAGE")
st.image("https://miro.medium.com/max/647/1*ZOcUPrSXLYucFxppoI-dYg.png")
scaler = joblib.load(open("scaler2.joblib","rb"))
model = joblib.load(open("xgb_model2.joblib","rb"))
columns = joblib.load("columns2.joblib")

st.sidebar.title('Configure Your Car')
Year = st.sidebar.number_input("Year", min_value =2000, max_value = 2018, value=2014)
Present_Price = st.sidebar.number_input("Present_Price", min_value =0.00, max_value = 35.00, value=5.59)
Kms_Driven = st.sidebar.number_input("Kms_Driven", value=27000, step=100)
Fuel_Type = st.sidebar.selectbox("Fuel_Type", ["Petrol","Diesel", "CNG"])
Seller_Type = st.sidebar.selectbox("Fuel_Type", ["Dealer", "Individual"])
Transmission = st.sidebar.selectbox("Fuel_Type", ["Manual", "Automatic"])
Owner = st.sidebar.number_input("Owner", min_value =0, max_value = 3, value=0)
data = {}
data["Year"]=Year
data["Present_Price"]=Present_Price
data["Kms_Driven"]=Kms_Driven
data["Fuel_Type"]=Fuel_Type
data["Seller_Type"]=Seller_Type
data["Transmission"]=Transmission
data["Owner"]=Owner
predict = st.sidebar.button("P R E D I C T")
if predict:
    df = pd.DataFrame([data])
    df["Year"] = 2018 - df["Year"]
    df = pd.get_dummies(df).reindex(columns=columns, fill_value=0)
    df = scaler.transform(df)
    result = model.predict(df)
    st.table(pd.DataFrame([data]))
    st.write(f"$ {result[0]:.5f}")


pip3 install --upgrade pip

pip3 install streamlit

export PATH="/home/ubuntu/.local/bin:$PATH"


dockerfile iÃ§i:

FROM ubuntu
RUN apt-get update -y
RUN apt-get install python3 -y
RUN apt-get install python3-pip -y
RUN pip3 install --upgrade pip
WORKDIR APP
COPY . .
RUN pip3 install -r requirements.txt
CMD streamlit run app.py



requirements.txt

streamlit==1.6.0
xgboost==1.5.2
scikit-learn==0.24.2


17  sudo apt-get remove docker docker-engine docker.io containerd runc
18  sudo apt-get install     ca-certificates     curl     gnupg     lsb-release
19  curl -fsSL https://download.docker.com/linux/ubuntu/gpg | sudo gpg --dearmor -o /usr/share/keyrings/docker-archive-keyring.gpg
20  sudo curl -fsSL https://download.docker.com/linux/ubuntu/gpg | sudo gpg --dearmor -o /usr/share/keyrings/docker-archive-keyring.gpg
21  echo   "deb [arch=$(dpkg --print-architecture) signed-by=/usr/share/keyrings/docker-archive-keyring.gpg] https://download.docker.com/linux/ubuntu \
  $(lsb_release -cs) stable" | sudo tee /etc/apt/sources.list.d/docker.list > /dev/null
22  sudo apt-get update
23  sudo apt-get install docker-ce docker-ce-cli containerd.io
24  sudo systemctl status docker
25  sudo systemctl start docker
26  sudo systemctl enable  docker
27  sudo systemctl status docker


sudo usermod -aG docker ubuntu
newgrp docker

sudo docker run hello-world

docker build -t usedcarapp .



2  docker build -t usedcarapp .
3  docker image ls
4  docker run -dit -p 80:8501 usedcarapp


sudo apt  install awscli 

aws configure

aws s3 ls

aws ecr get-login-password --region us-east-1 | docker login --username AWS --password-stdin 618725421363.dkr.ecr.us-east-1.amazonaws.com

docker build -t usedcarproject .

docker tag usedcarproject:latest 618725421363.dkr.ecr.us-east-1.amazonaws.com/usedcarproject:latest

docker push 618725421363.dkr.ecr.us-east-1.amazonaws.com/usedcarproject:latest

docker run -dit -p 80:8501 618725421363.dkr.ecr.us-east-1.amazonaws.com/usedcarproject:latest

export PATH="/home/ubuntu/.local/bin:$PATH"